<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.90.1" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Алексей Пахунов</title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/hyde.css">
  <link rel="stylesheet" href="/css/poole-overrides.css">
  <link rel="stylesheet" href="/css/hyde-overrides.css">
  <link rel="stylesheet" href="/css/hyde-x.css">
  <link rel="stylesheet" href="/css/highlight/github.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/custom.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link href="/favicon.png" rel="icon">

  
  
  <link href="http://feeds.feedburner.com/not-a-kernel-guy" rel="alternate" type="application/rss+xml" title="Алексей Пахунов" />

  <meta name="description" content="Блог про космос, программирование и всякое разное.">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1329392-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1>Алексей Пахунов</h1>
      <p class="lead">&hellip; также известный как &ldquo;Not a kernel guy&rdquo;</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="/">Блог</a></li>
      
      <li class="sidebar-nav-item"><a href="/post/">Архив</a></li>
      
      <li class="sidebar-nav-item"><a href="/about">Об авторе</a></li>
      
      <li class="sidebar-nav-item"><a href="http://feeds.feedburner.com/not-a-kernel-guy">Подписаться на RSS канал</a></li>
      
      <li class="sidebar-nav-item"><a href="https://follow.it/fucjll?action=followPub">Почтовая рассылка</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <script>
        (function() {
          var cx = '009966018894572705542:ewu98_itf-q';
          var gcse = document.createElement('script');
          gcse.type = 'text/javascript';
          gcse.async = true;
          gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
              '//cse.google.com/cse/cse.js?cx=' + cx;
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(gcse, s);
        })();
      </script>
      <gcse:searchbox-only></gcse:searchbox-only>
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      
      
      
      <a href="https://www.linkedin.com/in/alexpakhunov"><i class="fa fa-linkedin-square fa-3x"></i></a>
      
      
      
      
      
      <a href="http://feeds.feedburner.com/not-a-kernel-guy" type="application/rss+xml"><i class="fa fa-rss-square fa-3x"></i></a>
      </li>
    </ul>

    

    <p>Copyright &copy; 2006 - 2023 <a href="/license/">License</a><br/>
       Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>

  </div>
</div>


<div class="content container">
  <div class="posts">
    
    <ul class="pagination">
  <li class="active">
    <span class="fa-lg"><a href="/page/4/" aria-label="Previous">
        <i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;Новое
      </a></span>
  </li>

  <li class="active">
    <span class="fa-lg">
      <a href="/post/">Архив</a>
    <span>
  </li>

  <li class="active">
    <span class="fa-lg"><a href="/page/6/" aria-label="Next">
        Старое&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i>
      </a></span>
  </li>
</ul>

    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2018/11/01/tmt/">Тридцатиметровый телескоп</a>
      </h1>
      <span class="post-date">Nov 1, 2018 &middot; <a href="https://blog.not-a-kernel-guy.com/2018/11/01/tmt/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%B2%D1%81%D1%8F%D0%BA%D0%B0%D1%8F-%D0%B2%D1%81%D1%8F%D1%87%D0%B8%D0%BD%D0%B0">Всякая всячина</a>
      </span>
      
      <p>Верховный суд Гавайев разрешил постройку Тридцатиметрового телескопа на вершине
горы Мауна-Кеа. Решение о постройке телескопа вызвало протесты среди защитников
природы и сторонников традиционного гавайского образа жизни, которые считают
гору Мауна-Кеа священной. В 2015 году Верховный суд Гавайев отменил уже готовое
разрешение на постройку телескопа, из-за нарушений прав коренных гавайцев, а
именно - спор не был рассмотрен в суде перед выдачей разрешения на постройку.
Орган, ответственный за выдачу разрешения (The Board of Land and Natural
Resources), подсуетился и организовал слушание. И вот теперь Верховный суд дал
добро на постройку.</p>
<p>Отдельные части <a href="http://www.courts.state.hi.us/wp-content/uploads/2018/10/SCOT-17-0000777.pdf">решения Верховного суда</a> читаются как сказка (извиняйте за
корявый перевод):</p>
<blockquote>
<p>Некоторые коренные гавайцы, включая некоторых аппелянтов, считают гору
Мауна-Кеа, возвышающуюся на 13796 футов над уровнем моря, предком, нине
живущим членом семьи и прародителем гавайцев, рожденным от Wākea (небесного
отца) и Papa (матери Земли). Они полагают, что вершина Мауна-Кеа, также
известная как Kūkahauʻula (скопление puʻu или шлаковых конусов), является wahi
pana (легендарным местом) и wao akua (местом, где живут боги), сферой исконных
akua (богов, богинь, божеств), принимающих земную форму в виде puʻu, воды
озера Waiau, и других значительных элементов ландшафта. Считается, что вершина
Мауна-Кеа касается неба уникальным и важным способом, - как piko (пупок) через
который устанавливается связь с предками или как piko hoʻokahi (единый пупок),
который устанавливает духовную и генеалогическую связь, и обеспечивает права
на живительную энергию всего того, чем являются Гавайи. Большое количество
святилищ на Мауна-Кеа указывает на традицию паломничества: &ldquo;прогулка вверх и
назад во времени к космологическим началам&rdquo; чтобы поклонится виду богини
Poliʻahu и другим akua, таким как Kūkahau, Līlīnoe и Waiau.</p>
</blockquote>
<blockquote>
<p>Some Native Hawaiians, including some of the appellants,
consider Mauna Kea, which rises to an elevation of 13,796 feet
above sea level, to be an ancestor, a living family member and
progenitor of Hawaiians, born of Wākea (Sky Father) and Papa
(Earth Mother). They consider the Mauna Kea summit area, also
known as Kūkahauʻula (cluster of puʻu or cinder cones), to be a
wahi pana (storied place) and wao akua (the place where gods
reside), the realm of ancestral akua (gods, goddesses, deities)
believed to take earthly form as the puʻu, the waters of Lake
Waiau, and other significant landscape features. The summit of
Mauna Kea is thought to touch the sky in an unique and important
way, as a piko (navel) by which connections to the ancestors are
made known to them, or as the piko hoʻokahi (the single navel),
which ensures spiritual and genealogical connections, and the
rights to the regenerative powers of all that is Hawaiʻi. The
large number of shrines on Mauna Kea indicate that there was a
pattern of pilgrimage, “a walk upward and backward in time to
cosmological origins,” to worship the snow goddess Poliʻahu and
other akua such as Kūkahau, Līlīnoe, and Waiau.</p>
</blockquote>
<p>Во как!</p>
      <a href="https://blog.not-a-kernel-guy.com/2018/11/01/tmt/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2018/10/20/lro/">Восход Земли</a>
      </h1>
      <span class="post-date">Oct 20, 2018 &middot; <a href="https://blog.not-a-kernel-guy.com/2018/10/20/lro/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%BA%D0%BE%D1%81%D0%BC%D0%BE%D1%81">Космос</a><a class="label" href="/tags/lro">LRO</a>
      </span>
      
      <p>Композитное изображение Земли, восходящей над горизонтом Луны:</p>
<p><a href="https://www.nasa.gov/sites/default/files/styles/full_width_feature/public/thumbnails/image/earth_and_limb_m1199291564l_color_2stretch_mask_0.jpg"><img src="/2018/10/lro_earth_rise.jpg" alt=""></a></p>
<p>Изображение полученно из серии снимков, сделанных 12 октября 2015 года, с борта
<a href="https://ru.wikipedia.org/wiki/Lunar_Reconnaissance_Orbiter">лунного орбитального зонда</a>. В момент съемки аппарат находился на высоте 134
километров над кратером Комптон, расположенном на обратной стороне Луны
(51.8°N, 124.1°E).</p>
<p><a href="http://lroc.sese.asu.edu/posts/895">Статья, посвященная этому снимку</a>, объясняет процесс съемки и ссылается на
полноразмерное изображение.</p>
      <a href="https://blog.not-a-kernel-guy.com/2018/10/20/lro/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2018/10/09/palm-springs/">Palm Springs</a>
      </h1>
      <span class="post-date">Oct 9, 2018 &middot; <a href="https://blog.not-a-kernel-guy.com/2018/10/09/palm-springs/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%B2%D1%81%D1%8F%D0%BA%D0%B0%D1%8F-%D0%B2%D1%81%D1%8F%D1%87%D0%B8%D0%BD%D0%B0">Всякая всячина</a><a class="label" href="/tags/%D0%BE%D1%82%D0%B4%D1%8B%D1%85">Отдых</a><a class="label" href="/tags/spacex">SpaceX</a>
      </span>
      
      <p>Одна из характерных черт жизни в Штатах - это то, что все значительные события
планируются на месяцы и годы вперед. В начале учебного года детям (а на самом
деле - их родителям) выдается календарь расписанный на год вперед: каникулы,
выходные, разные обязательные и не очень школьные мероприятия вроде Back to
School Day также известный как &ldquo;гоните ваши денежки&rdquo;. Поездка в отпуск
запланированная на полтора года вперед - норма. Записывать ребенка на
<a href="https://www.fire.lacounty.gov/lifeguard/lifeguard-youth-programs/">Junior Lifeguard Program</a> на следующее лето нужно в январе. Пропустил
момент - жди следующего года.</p>
<p>Мы с женой привыкали к такому порядку вещей с большим трудом. Это как акцент.
Теоретически, если поднапрячься, от него можно избавиться или, по крайней мере,
сильно уменьшить. Это просто функция вложенного труда. Но ведь лень. Тут в спорт
зал сходить себя еле-еле заставишь, а еще и на планирование на год вперед время
тратить&hellip;</p>
      <a href="https://blog.not-a-kernel-guy.com/2018/10/09/palm-springs/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2018/09/17/bfr/">Айда все на Луну</a>
      </h1>
      <span class="post-date">Sep 17, 2018 &middot; <a href="https://blog.not-a-kernel-guy.com/2018/09/17/bfr/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/bfr">BFR</a><a class="label" href="/tags/spacex">SpaceX</a>
      </span>
      
      <p>Ну что, BFR тихой сапой приближается к реальности. Пройденные этапы:</p>
<ul>
<li>Основательно прожгли прототип двигателя.</li>
<li>Застолбили палатку с запчастями в порту Long Beach.</li>
<li>Предварительно просчитали посадку с правильной моделью атмосферы (что как мы
знаем по опыту <a href="https://www.kerbalspaceprogram.com/en/">KSP</a> is a big deal. Там, помнится, после очередного
обновления модель атмосферы поменялась - половина ракет перестала нормально
летать. Столько криков было&hellip;)</li>
<li>Обозначили предварительные цели - сразу к Марсу лететь сложно, а вот
оттестироваться как следует вокруг Земли и Луны - сам бог велел.</li>
<li>Ну и самое главное - увеличился счет в банке. Т.е. деньги на дальнейшее
движение есть.</li>
</ul>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/zu7WJD8vpAQ" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>
      <a href="https://blog.not-a-kernel-guy.com/2018/09/17/bfr/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2018/09/10/khmelnitskiy/">Отпуск. Окончание</a>
      </h1>
      <span class="post-date">Sep 10, 2018 &middot; <a href="https://blog.not-a-kernel-guy.com/2018/09/10/khmelnitskiy/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%B1%D1%8B%D1%82%D0%BE%D0%B2%D1%83%D1%85%D0%B0">Бытовуха</a><a class="label" href="/tags/%D0%B2%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F">Впечатления</a><a class="label" href="/tags/%D1%83%D0%BA%D1%80%D0%B0%D0%B8%D0%BD%D0%B0">Украина</a>
      </span>
      
      <p>Вот и закончился отпуск. Впрочем на работу толком выйти я так и не смог. Еще до
отпуска мне прислали вызов в суд - поработать присяжным. Священная обязанность
каждого американца от который буквально каждый американец пытается увильнуть.
(не слишком усердно, впрочем). Свой вызов я перенес сразу после отпуска - на
случай если вдруг дело затянется.</p>
<p>В последнюю неделю перед уездом зашел в свою школу - поболтать за жизнь с
директором. В свое время он сильно поспособствовал моему увлечению
программированием и вытащил меня на школьные олимпиады по информатике. В
конечном итоге, это обеспечило мне беспроблемное поступление в университет.
Более того, одним летом он презентовал мне один из школьных компьютеров -
попользоваться до сентября. Вот этот - который в углу:</p>
<p><img src="/2018/09/poisk2.jpg" alt=""></p>
<p>Этот ящик, конечно, вис от жары постоянно. Но с другой стороны с его помощью я
познакомился с Turbo Vision - культовой библиотекой для создания интерактивного
интерфейса под DOS. Помнится я даже пытался добавить поддержку графики - в
режиме 320x200 и 256 цветов конечно. Все шло довольно неплохо, пока я не
наткнулся на код оптимальной отрисовки перекрывающихся окон. В этот момент я
понял, что столько страниц ассемблерного кода я не потяну.</p>
<p>Пока пили чай зацепили тему поступления в вуз в Украине. <a href="https://site.ua/yesint/14863/">Статистика</a>
удручает конечно. Я вот тоже не понимаю, на кой нужно столько филологов на фоне
того, что такие специальности, как металлургия, материаловедение, атомная
энергетика, авиационная и ракетно-космическая техника, судостроение и прочие
набрали несколько сотен заявок в лучшем случае. А главное я не понимаю на кой
идти на филолога вообще. Если все равно работать не по специальности, то
должно быть все равно, что учить, а большинство &ldquo;прикладных&rdquo; специальностей
потенциально оплачиваются выше. Учить популярные языки вроде английского все
равно лучше и дешевле с репетитором. Это я по своему опыту сужу. Разве что если
учить арабский и китайский одновременно?</p>
      <a href="https://blog.not-a-kernel-guy.com/2018/09/10/khmelnitskiy/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2018/08/23/oculus/">Полное погружение</a>
      </h1>
      <span class="post-date">Aug 23, 2018 &middot; <a href="https://blog.not-a-kernel-guy.com/2018/08/23/oculus/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%B1%D1%8B%D1%82%D0%BE%D0%B2%D1%83%D1%85%D0%B0">Бытовуха</a><a class="label" href="/tags/%D0%B2%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F">Впечатления</a><a class="label" href="/tags/%D1%83%D0%BA%D1%80%D0%B0%D0%B8%D0%BD%D0%B0">Украина</a>
      </span>
      
      <p>В центре Хмельницкого каждому желающему предлагается креативный аттракцион -
полное погружение в виртуальную реальность. Наконец-то технология виртуальной
реальности достигла уровня, позволяющего полностью обмануть вестибулярный
аппарат и доставить весь спектр ощущений поездки на американской горке, включая
дрожащие коленки и бабочки в животе:</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/tJCZIqP8ca8" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>:-)</p>
      
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2018/08/19/khmelnitskiy/">Хмельницкий</a>
      </h1>
      <span class="post-date">Aug 19, 2018 &middot; <a href="https://blog.not-a-kernel-guy.com/2018/08/19/khmelnitskiy/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%B1%D1%8B%D1%82%D0%BE%D0%B2%D1%83%D1%85%D0%B0">Бытовуха</a><a class="label" href="/tags/%D0%B2%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F">Впечатления</a><a class="label" href="/tags/%D1%83%D0%BA%D1%80%D0%B0%D0%B8%D0%BD%D0%B0">Украина</a>
      </span>
      
      <p>Я сейчас в отпуске - в гостях у родителей. Получайте свежую порцию впечатлений
от поездки в Украину.</p>
<p>Самолет из Детройта в Амстердам немного поломался сразу после отстыковки от
рукава. Капитан объявил по громкой связи что самолет вынужден вернуться к гейту
и по салону пронесся коллективный понимающий вздох. Все сразу поняли, что на
свой следующий рейс они не уже успевают. Не успел и я.</p>
<p>В Амстердаме после выхода из самолета нас встретил поток воды, льющейся с
потолка. Не иначе, как для усиления ощущения &ldquo;приключения&rdquo;. Половина пассажиров
ускакала через лужи догонять свой следующий рейс. Оставшаяся половина побрела
выяснять свои ближайшие планы уже никуда не торопясь. Я решил расположится у
<a href="https://www.schiphol.nl/en/facilities/airport-library/">библиотеки</a> - менять билет на поезд из Киева и предупредить что б меня не
ждали. В аэропорту был приличный Wi-Fi, который пришелся очень кстати.</p>
      <a href="https://blog.not-a-kernel-guy.com/2018/08/19/khmelnitskiy/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2018/08/05/text-data/">Текстовые данные в юнит тестах</a>
      </h1>
      <span class="post-date">Aug 5, 2018 &middot; <a href="https://blog.not-a-kernel-guy.com/2018/08/05/text-data/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">Программирование</a><a class="label" href="/tags/%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">Тестирование</a><a class="label" href="/tags/%D1%8E%D0%BD%D0%B8%D1%82-%D1%82%D0%B5%D1%81%D1%82%D1%8B">Юнит тесты</a>
      </span>
      
      <p>В предыдущем посте про <a href="/2018/08/01/table-driven-unit-tests/">табличные юнит тесты</a> я рассказал про способ
улучшения читаемости однообразных юнит тестов. Там же мне в комментариях
аналогичных примеров из существующих фреймворков накидали. Теперь давайте
посмотрим как этот способ сделать еще лучше.</p>
<p>Основная идея была очень проста. Есть повторяющийся, очень монотонный код
тестов. Чтобы сделать его читаемым, пишется универсальное тело теста, а все
необходимые вариации описываются параметрами. Параметры упаковываются в таблицу,
что очень важно для улучшения читаемости. Когда все параметры собраны в одном
месте (в пределах одного экрана), анализировать поведение тестируемого кода
легче, чем когда параметры разбросаны по файлу длиной в сотни строк.</p>
<p>Как сделать код еще более понятным? К примеру, возьмем таблицу из предыдущего
поста. Что с ней не так?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">struct</span> {
    <span style="color:#66d9ef">int</span> x;
    <span style="color:#66d9ef">int</span> y;
    std<span style="color:#f92672">::</span>string that_thing;
    std<span style="color:#f92672">::</span>string this_key;
    <span style="color:#66d9ef">bool</span> result;
} <span style="color:#66d9ef">const</span> cases[] <span style="color:#f92672">=</span> {
    {<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#34;thing1&#34;</span>, <span style="color:#e6db74">&#34;key2&#34;</span>, false},
    {<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;thing1&#34;</span>, <span style="color:#e6db74">&#34;key2&#34;</span>, false},
    {<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;thing1&#34;</span>, <span style="color:#e6db74">&#34;key2&#34;</span>, false},
    {<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34;thing1&#34;</span>, <span style="color:#e6db74">&#34;key1&#34;</span>, true },
    {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#34;thing2&#34;</span>, <span style="color:#e6db74">&#34;key1&#34;</span>, false},
    {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;thing2&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>,     false},
    {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;thing2&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>,     true },
    {<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#34;&#34;</span>,       <span style="color:#e6db74">&#34;&#34;</span>,     false},
    {<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;&#34;</span>,       <span style="color:#e6db74">&#34;&#34;</span>,     true },
    {<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;&#34;</span>,       <span style="color:#e6db74">&#34;&#34;</span>,     false},
};
</code></pre></div><p>В этой таблице слишком много знаков препинания: скобки, запятые, кавычки.
К параметрам в этой таблице неудобно писать комментарии и еще сложнее подружить
удобно выровненные колонки с <a href="https://clang.llvm.org/docs/ClangFormat.html"><code>clang-format</code></a> (<code>clang-format off</code> - это
единственный выход). Более того, столкнувшись с реальностью, подобная таблица
станет еще менее читаемой - колонки вылезут за правый край экрана, выравнивание
будет принесено в жертву более компактной записи и т.д.</p>
      <a href="https://blog.not-a-kernel-guy.com/2018/08/05/text-data/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2018/08/01/table-driven-unit-tests/">Табличные юнит тесты</a>
      </h1>
      <span class="post-date">Aug 1, 2018 &middot; <a href="https://blog.not-a-kernel-guy.com/2018/08/01/table-driven-unit-tests/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">Программирование</a><a class="label" href="/tags/%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">Тестирование</a><a class="label" href="/tags/%D1%8E%D0%BD%D0%B8%D1%82-%D1%82%D0%B5%D1%81%D1%82%D1%8B">Юнит тесты</a>
      </span>
      
      <p>Расскажу об одной технике, которая, как мне кажется, позволяет писать более
понятные и читаемые юнит тесты. Начну немного издалека. Допустим мы хотим
убедится, что определенный кусок кода работает правильно. Если бы мы имели дело
с игрушечным примером, то это наш тест мог бы Примерно вот так:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">foobar</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y)
{
    <span style="color:#66d9ef">return</span> (x <span style="color:#f92672">+</span> y) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> ((x <span style="color:#f92672">+</span> y) <span style="color:#f92672">%</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">ASSERT_FALSE(foobar(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>));
ASSERT_FALSE(foobar(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>));
ASSERT_FALSE(foobar(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>));
ASSERT_TRUE (foobar(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">3</span>));
ASSERT_FALSE(foobar(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>));
ASSERT_FALSE(foobar(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>));
ASSERT_TRUE (foobar(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>));
ASSERT_FALSE(foobar(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>));
ASSERT_TRUE (foobar(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>));
ASSERT_FALSE(foobar(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>));
...
</code></pre></div><p>Такой тест достаточно легко читать. Достаточно понять конструкцию
<code>ASSERT_XXX(foobar(...))</code> после чего глаза сами фокусируются на входных
значениях, автоматически отсеивая ненужный синтаксический мусор.</p>
<p>Однако, если взять реальный код, то подобный пример превратиться в гораздо менее
удобочитаемого монстра:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">std<span style="color:#f92672">::</span>unique_ptr<span style="color:#f92672">&lt;</span>Foobar<span style="color:#f92672">&gt;</span> rabbit <span style="color:#f92672">=</span>
    create_foobar_with_abc(parent,
        some_context,
        more_stuff <span style="color:#f92672">+</span> that <span style="color:#f92672">+</span> is_required <span style="color:#f92672">+</span> to_create_foobar,
        a,
        b,
        mock_c(),
        logger);

ASSERT_TRUE(
    rabbit<span style="color:#f92672">-&gt;</span>connect(
        this_thing,
        that_key,
        did_you_think_we_are_done_here <span style="color:#f92672">?</span> no : hell_no));

ASSERT_TRUE(rabbit<span style="color:#f92672">-&gt;</span>wait_for_accept(timeout));

ASSERT_FALSE(rabbit<span style="color:#f92672">-&gt;</span>foobar(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>));
</code></pre></div><p>&hellip; и так далее для каждого тест кейса. Подобный код легко превращается в
длинную простыню однообразного текста с незаметными, но важными вариациями во
входных данных или параметрах инициализации.</p>
      <a href="https://blog.not-a-kernel-guy.com/2018/08/01/table-driven-unit-tests/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2018/07/30/sky-triage/">Что это за хрень в небе была?</a>
      </h1>
      <span class="post-date">Jul 30, 2018 &middot; <a href="https://blog.not-a-kernel-guy.com/2018/07/30/sky-triage/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%BA%D0%BE%D1%81%D0%BC%D0%BE%D1%81">Космос</a>
      </span>
      
      <p>О! Отличная, годная блок-схема, дающая ответ на вопрос &ldquo;Что это за хрень в небе
была?&rdquo; в девяноста случаях из ста (по клику открывается более крупный вариант):</p>
<p><a href="/2018/07/what_was_that_thing_in_the_sky.png"><img src="/2018/07/what_was_that_thing_in_the_sky_small.png" alt=""></a></p>
<p>Картинка - перевод <a href="https://www.reddit.com/r/Astronomy/comments/92zks3/what_was_that_thing_in_the_sky_official_thread/">оригинала</a>.</p>
<p>От себя могу добавить, что ветку с планетой можно уточнить. В трех четвертях
случаев там будет Венера, а еще в 24% случаев - Юпитер.</p>
<p>Пассаж про сверхновую тоже хорош. Бетельгейзе, мы ждем. :-)</p>
      <a href="https://blog.not-a-kernel-guy.com/2018/07/30/sky-triage/">Read On &rarr;</a>
      
    </div>
    
    <ul class="pagination">
  <li class="active">
    <span class="fa-lg"><a href="/page/4/" aria-label="Previous">
        <i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;Новое
      </a></span>
  </li>

  <li class="active">
    <span class="fa-lg">
      <a href="/post/">Архив</a>
    <span>
  </li>

  <li class="active">
    <span class="fa-lg"><a href="/page/6/" aria-label="Next">
        Старое&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i>
      </a></span>
  </li>
</ul>

  </div>
</div>


<script type="text/javascript">
var disqus_shortname = "alexeypa";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

