<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.124.1">
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Алексей Пахунов</title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/hyde.css">
  <link rel="stylesheet" href="/css/poole-overrides.css">
  <link rel="stylesheet" href="/css/hyde-overrides.css">
  <link rel="stylesheet" href="/css/hyde-x.css">
  <link rel="stylesheet" href="/css/highlight/github.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/custom.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link href="/favicon.png" rel="icon">

  
  
  <link href="/index.xml" rel="alternate" type="application/rss+xml" title="Алексей Пахунов" />

  <meta name="description" content="Блог про космос, программирование и всякое разное.">
  <meta name="keywords" content="">
  
</head>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1>Алексей Пахунов</h1>
      <p class="lead">&hellip; также известный как &ldquo;Not a kernel guy&rdquo;</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="/">Блог</a></li>
      
      <li class="sidebar-nav-item"><a href="/post/">Архив</a></li>
      
      <li class="sidebar-nav-item"><a href="/about">Об авторе</a></li>
      
      <li class="sidebar-nav-item"><a href="/index.xml">Подписаться на RSS канал</a></li>
      
      <li class="sidebar-nav-item"><a href="https://follow.it/fucjll?action=followPub">Почтовая рассылка</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <script>
        (function() {
          var cx = '009966018894572705542:ewu98_itf-q';
          var gcse = document.createElement('script');
          gcse.type = 'text/javascript';
          gcse.async = true;
          gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
              '//cse.google.com/cse/cse.js?cx=' + cx;
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(gcse, s);
        })();
      </script>
      <gcse:searchbox-only></gcse:searchbox-only>
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      
      
      
      <a href="https://www.linkedin.com/in/alexpakhunov"><i class="fa fa-linkedin-square fa-3x"></i></a>
      
      
      
      
      
      <a href="/index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-3x"></i></a>
    </li>
    </ul>

    

    <p>Copyright &copy; 2006 - 2025 <a href="/license/">License</a><br/>
       Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>

  </div>
</div>


<div class="content container">
  <div class="posts">
    
    <ul class="pagination">
  <li class="active">
    <span class="fa-lg"><a href="/page/37/" aria-label="Previous">
        <i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;Новое
      </a></span>
  </li>

  <li class="active">
    <span class="fa-lg">
      <a href="/post/">Архив</a>
    <span>
  </li>

  <li class="active">
    <span class="fa-lg"><a href="/page/39/" aria-label="Next">
        Старое&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i>
      </a></span>
  </li>
</ul>

    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2008/11/24/374/">Иногда люди воспринимают вещи слишком буквально</a>
      </h1>
      <span class="post-date">Nov 24, 2008 &middot; <a href="https://blog.not-a-kernel-guy.com/2008/11/24/374/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">Программирование</a><a class="label" href="/tags/wow64">Wow64</a>
      </span>
      
      <p>На днях свалился в inbox вопрос:</p>
<blockquote>
<p>The documentation for <a href="http://msdn.microsoft.com/en-us/library/ms684954(VS.85).aspx">QueueUserApc</a> states &ldquo;an APC cannot be queued from a 64-bit process to a 32-bit process or vice versa.&rdquo;</p>
</blockquote>
<blockquote>
<p>However on Vista Ultimate x64, we _can _queue a user APC from a 32-bit process to a 64-bit process. In our test application the 64-bit recipient crashes, we haven&rsquo;t explored why just yet, but the point is that the operation should not succeed and the 64-bit application&rsquo;s APC queue should never have the APC inserted.</p>
</blockquote>
<blockquote>
<p>Is it an OS bug?</p>
</blockquote>
<blockquote>
<p>Документация к функции QueueUserApc утверждает, что асинхронный вызов процедуры (APC) не может быть запрошен из 64-х битного процесса для выполнения в 32-х битном и наоборот.</p>
</blockquote>
<blockquote>
<p>Однако на Vista Ultimate x64 мы <em>можем</em> выполнить асинхронный вызов пользовательского режима из 32-х битного процесса в 64-х битном процессе. В нашем тестовом приложении 64-х битный получатель падает и мы еще не выяснили почему, но дело в том, что операция (QueueUserApc) не должна завершаться успешно и асинхронный вызов не должен вставляться в очередь вызовов 64-х разрядного процесса.</p>
</blockquote>
<blockquote>
<p>Это баг ОС?</p>
</blockquote>
<p>Вопрос примечателен тем, что это уже третье письмо на эту тему за последние два месяца, хотя функция QueueUserApc далеко не самая широко используемая функция Win32. Не иначе какой настойчивый клиент эту функцию мучает. :-)</p>
      <a href="https://blog.not-a-kernel-guy.com/2008/11/24/374/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2008/11/13/373/">Первое прямое наблюдение экзопланеты!</a>
      </h1>
      <span class="post-date">Nov 13, 2008 &middot; <a href="https://blog.not-a-kernel-guy.com/2008/11/13/373/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%BA%D0%BE%D1%81%D0%BC%D0%BE%D1%81">Космос</a>
      </span>
      
      Офигительная новость. Астрономам удалось увидеть планету, вращающуюся вокруг другой звезды. Не вычислить по колебаниям яркости или лучевой скорости материнской звезды, а именно увидеть. Первым отличился Хаббл:
На снимке виден Фомальгаут B - планета, вращающаяся вокруг звезды Фомальгаут, и пояс обломков и пыли - остатки формирования планет.
Но и это еще не всё. Другая группа исследователей с помощью 8-ми метрового телескопа Gemini North 8 сфотографировала две планеты, вращающиеся вокруг другой звезды.
      <a href="https://blog.not-a-kernel-guy.com/2008/11/13/373/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2008/10/28/370/">PDC: Отзывы о Windows 7</a>
      </h1>
      <span class="post-date">Oct 28, 2008 &middot; <a href="https://blog.not-a-kernel-guy.com/2008/10/28/370/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5">Странное</a><a class="label" href="/tags/windows">Windows</a>
      </span>
      
      Почитываю отзывы о показанной на PDC Windows 7. Нахваливают. Боже, и эти же самые люди ругали Vista. Куда катится мир? :-)
      
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2008/10/27/364/">Как работает «раскрутчик» стека в x64</a>
      </h1>
      <span class="post-date">Oct 27, 2008 &middot; <a href="https://blog.not-a-kernel-guy.com/2008/10/27/364/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/amd64">amd64</a><a class="label" href="/tags/%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%B8%D1%81%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B9">Обработка исключений</a><a class="label" href="/tags/%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">Программирование</a>
      </span>
      
      <p>В комментариях к предыдущем посте про исключения верно заметили, что exception chain в TEB используется только в x86 коде. И x64, и ia64 exception chain не используют вообще. Как же, в таком случае, выполняется «раскрутка» стека при обработке исключения?</p>
      <a href="https://blog.not-a-kernel-guy.com/2008/10/27/364/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2008/10/20/361/">Undefined instruction</a>
      </h1>
      <span class="post-date">Oct 20, 2008 &middot; <a href="https://blog.not-a-kernel-guy.com/2008/10/20/361/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%B0%D1%81%D1%81%D0%B5%D0%BC%D0%B1%D0%BB%D0%B5%D1%80">Ассемблер</a><a class="label" href="/tags/%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">Программирование</a><a class="label" href="/tags/x86">x86</a>
      </span>
      
      <p>Набор команд x86-совместимых процессоров за годы эволюции набрал немалое количество всякой экзотики. Один из примеров такой экзотики – инструкция UD2. Задача этой инструкции состоит в том, чтобы… быть несуществующей инструкцией. Выполнение UD2 всегда приводит к генерации исключения «Invalid opcode». Отличие UD2 от любой другой несуществующей инструкции в том, что эта инструкция гарантированно не станет корректной инструкцией в будущем.</p>
      <a href="https://blog.not-a-kernel-guy.com/2008/10/20/361/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2008/10/15/355/">А что, собственно, происходит, когда бросается исключение?</a>
      </h1>
      <span class="post-date">Oct 15, 2008 &middot; <a href="https://blog.not-a-kernel-guy.com/2008/10/15/355/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%B8%D1%81%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B9">Обработка исключений</a><a class="label" href="/tags/windows">Windows</a>
      </span>
      
      <p>Нет, ну в общих чертах понятно - процессор генерирует исключение, операционная система находит нужный обработчик и вызывает его. А что происходит, если посмотреть подробнее? В Windows происходит примерно следующее.</p>
      <a href="https://blog.not-a-kernel-guy.com/2008/10/15/355/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2008/10/12/353/">Спам в комментариях</a>
      </h1>
      <span class="post-date">Oct 12, 2008 &middot; <a href="https://blog.not-a-kernel-guy.com/2008/10/12/353/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D1%81%D0%BF%D0%B0%D0%BC">Спам</a>
      </span>
      
      Количество спама в комментариях выходит за всякие разумные рамки. К счастью 99% процентов спама успешно отлавливается спам фильтрами, так что совсем отключать комментирование в блоге пока не хочется. Но частенько в спам попадают и те комментарии, которые, строго говоря, спамом не являются. Именно для авторов этих комментариев и предназначена эта страничка (ссылка удалена).
      
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2008/09/29/346/">Успешный запуск Falcon-1</a>
      </h1>
      <span class="post-date">Sep 29, 2008 &middot; <a href="https://blog.not-a-kernel-guy.com/2008/09/29/346/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%BA%D0%BE%D1%81%D0%BC%D0%BE%D1%81">Космос</a>
      </span>
      
      А тем временем в замке у шефа… в смысле компания SpaceX провела успешный запуск макета полезной нагрузки на орбиту с помощью своей ракеты Falcon-1. Можно сказать эпохальное событие – первая частная ракета, способная вывести полезную нагрузку на орбиту Земли. На очереди – отладка Falcon-9 и, дай бог, запуск пилотируемого Dragon.
Эх, накопить бы немного деньжат – в космос слетать. Или маленький остров в Тихом океане купить. :-/
      
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2008/09/29/342/">Цитатка</a>
      </h1>
      <span class="post-date">Sep 29, 2008 &middot; <a href="https://blog.not-a-kernel-guy.com/2008/09/29/342/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5">Странное</a>
      </span>
      
      С forum.exler.ru:
Поясняю - прямой угол плоскости одной точки - это такой угол (в частности) , для которого выплняется условие равенства одного n-мерного объекта, получающегося ЕДИНСТВЕННО пересечением двух одноразмерных объектов одного порядка и оба объекта пересечения не относится к данному углу одновременно, которые выше порядка объекта угла ровно на 1 единицу, другому объекту одного с углом порядка размерности, получаемого ЕДИНСТВЕННО пересечением двух одноразмерных объектов одного порядка и оба объекта пересечения не относится к данному углу одновременно, которые выше порядка объекта угла ровно на 1 единицу и эти 2*N объектов должны быть НЕ РАВНЫ между собой (как частный вариант - все 4 объекта НЕ равны между собой).
      <a href="https://blog.not-a-kernel-guy.com/2008/09/29/342/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://blog.not-a-kernel-guy.com/2008/09/26/339/">Иммигрировать в США очень просто…</a>
      </h1>
      <span class="post-date">Sep 26, 2008 &middot; <a href="https://blog.not-a-kernel-guy.com/2008/09/26/339/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="/tags/%D0%B1%D1%8E%D1%80%D0%BE%D0%BA%D1%80%D0%B0%D1%82%D0%B8%D1%8F">Бюрократия</a><a class="label" href="/tags/%D0%B8%D0%BC%D0%BC%D0%B8%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D1%8F">Иммиграция</a>
      </span>
      
      … только очень долго.
©2008 Reason Magazine.
Схема, конечно, не полна и не совсем точна. Но общее представление даёт. :-)
      
      
    </div>
    
    <ul class="pagination">
  <li class="active">
    <span class="fa-lg"><a href="/page/37/" aria-label="Previous">
        <i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;Новое
      </a></span>
  </li>

  <li class="active">
    <span class="fa-lg">
      <a href="/post/">Архив</a>
    <span>
  </li>

  <li class="active">
    <span class="fa-lg"><a href="/page/39/" aria-label="Next">
        Старое&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i>
      </a></span>
  </li>
</ul>

  </div>
</div>


<script type="text/javascript">
var disqus_shortname = "alexeypa";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

